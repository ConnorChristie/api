---
version: v1beta1

plugins:

  # Documentation
  - name: doc
    out: doc
    opt: html,index.html
    strategy: all

  - name: doc
    out: doc
    opt: markdown,index.md
    strategy: all

  # C++
  - name: cpp
    out: cpp/generated

  - name: cpp-grpc
    out: cpp/generated
    path: grpc_cpp_plugin

  # Go
  - name: go
    out: go/generated

  - name: go-grpc
    out: go/generated

  - name: govalidators
    out: go/generated
    # opt: paths=source_relative

  # Java
  - name: java
    out: java/generated

  # JavaScript and TypeScript
  - name: js
    out: js/generated
    opt: import_style=commonjs,binary

  - name: ts
    out: js/generated  # not a typo: ts files go in the js dir.
    path: ./js/node_modules/.bin/protoc-gen-ts

  - name: ts-grpc-node
    out: js/generated  # not a typo: ts files go in the js dir.
    opt: service=grpc-node
    path: ./js/node_modules/.bin/protoc-gen-ts

  - name: ts-grpc-web
    out: js/generated  # not a typo: ts files go in the js dir.
    opt: service=grpc-web
    path: ./js/node_modules/.bin/protoc-gen-ts

  # Python
  - name: python
    out: python/vegaapiclient/generated

  - name: python-grpc
    out: python/vegaapiclient/generated
    path: grpc_python_plugin
